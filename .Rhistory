shiny::runApp()
runApp()
shiny::runApp()
runApp()
runApp()
runApp()
1.28167e-07/ 1.11011009203015
7.31411e-08/ 1.11011009203015
runApp()
shiny::runApp()
shiny::runApp()
runApp()
runApp()
runApp()
shiny::runApp()
runApp()
runApp()
runApp()
shiny::runApp()
shiny::runApp()
runApp()
labelinput
Species
# System_data
labelInput
labelInput
date_1=basename(labelInput)
if (Species=="NFSAdult") {SpeciesSQL="CU";PredictPointsP=paste0(labelInput,"\\Predict\\NFSAdult_",date_1,".csv")}
if (Species=="SSLAdult") {SpeciesSQL="SSL";PredictPointsP=paste0(labelInput,"\\Predict\\",date_1,"_SSLAdult_AgeLatLon.csv")}
if (Species=="NFSPup")   {SpeciesSQL="CU";PredictPointsP=paste0(labelInput,"\\Predict\\NFSPup_",date_1,".csv")}
if (Species=="SSLPup")   {stop("You can not Import SSL pups without Adult animals, please select  SSLAdult")}
if (Species=="WLRS")    {SpeciesSQL="WLRS";PredictPointsP=paste0(labelInput,"\\Predict\\WLRS_",date_1,".csv")}
PredictPointsPsslp=paste0(labelInput,"\\Predict\\SSLPup_",date_1,".csv")
AdditnlPointsPnfsP = paste0(labelInput,"\\Predict\\NFSPupAdd_",date_1,".kml")
WLRSadd = paste0(labelInput,"\\Predict\\WLRSadd_",date_1,".kml")
dirModelCount=paste0(labelInput,"\\Polygons\\Model")
MdlPolPth=list.files(dirModelCount,full.names=T,pattern=".shp")
MdlPolPth
PredictPointsP
?gsub
?substr
substr(basename(labelInput),1,10)
substr(basename(labelInput),1,16)
substr(basename(labelInput),1,15)
date_1= substr(basename(labelInput),1,15)
if (Species=="NFSAdult") {SpeciesSQL="CU";PredictPointsP=paste0(labelInput,"\\Predict\\NFSAdult_",date_1,".csv")}
if (Species=="SSLAdult") {SpeciesSQL="SSL";PredictPointsP=paste0(labelInput,"\\Predict\\",date_1,"_SSLAdult_AgeLatLon.csv")}
if (Species=="NFSPup")   {SpeciesSQL="CU";PredictPointsP=paste0(labelInput,"\\Predict\\NFSPup_",date_1,".csv")}
if (Species=="SSLPup")   {stop("You can not Import SSL pups without Adult animals, please select  SSLAdult")}
if (Species=="WLRS")    {SpeciesSQL="WLRS";PredictPointsP=paste0(labelInput,"\\Predict\\WLRS_",date_1,".csv")}
PredictPointsPsslp=paste0(labelInput,"\\Predict\\SSLPup_",date_1,".csv")
AdditnlPointsPnfsP = paste0(labelInput,"\\Predict\\NFSPupAdd_",date_1,".kml")
WLRSadd = paste0(labelInput,"\\Predict\\WLRSadd_",date_1,".kml")
PredictPointsP
file.exists(PredictPointsP)
choose.dir()
?choose.dir
site
substr(date_1,1,4)
library(dplyr)
library(rgdal)
library(tools)
library(tidyr)
labelInput
Species
# System_data
date_1= substr(basename(labelInput),1,15)
year=substr(date_1,1,4)
DirSaveExcel=choose.dir(caption = "Select folder to save Excell")
PthSaveExcell=paste0(DirSaveExcel,"\\",Species,"_",site,"_",year,".csv")
ObserverCountDir=paste0(labelinput1,"\\Observer_count")
ObserverCountP=list.files(ObserverCountDir,full.names=T,pattern = "kml|shp")
if (Species=="NFSAdult") {SpeciesSQL="CU";PredictPointsP=paste0(labelInput,"\\Predict\\NFSAdult_",date_1,".csv")}
if (Species=="SSLAdult") {SpeciesSQL="SSL";PredictPointsP=paste0(labelInput,"\\Predict\\",date_1,"_SSLAdult_AgeLatLon.csv")}
if (Species=="NFSPup")   {SpeciesSQL="CU";PredictPointsP=paste0(labelInput,"\\Predict\\NFSPup_",date_1,".csv")}
if (Species=="SSLPup")   {stop("You can not Import SSL pups without Adult animals, please select  SSLAdult")}
if (Species=="WLRS")    {SpeciesSQL="WLRS";PredictPointsP=paste0(labelInput,"\\Predict\\WLRS_",date_1,".csv")}
PredictPointsPsslp=paste0(labelInput,"\\Predict\\SSLPup_",date_1,".csv")
AdditnlPointsPnfsP = paste0(labelInput,"\\Predict\\NFSPupAdd_",date_1,".kml")
WLRSadd = paste0(labelInput,"\\Predict\\WLRSadd_",date_1,".kml")
ObserverPoints= readOGR(ObserverCountP)
PredictPoints= read.csv(PredictPointsP)
library(dplyr)
library(rgdal)
library(tools)
library(tidyr)
labelInput
Species
# System_data
# DirSaveExcel=choose.dir(caption = "Select folder to save Excell")
date_1= substr(basename(labelInput),1,15)
year=substr(date_1,1,4)
PthSaveExcell=paste0(DirSaveExcel,"\\",Species,"_",site,"_",year,".csv")
ObserverCountDir=paste0(labelInput,"\\Observer_count")
ObserverCountP=list.files(ObserverCountDir,full.names=T,pattern = "kml|shp")
if (Species=="NFSAdult") {SpeciesSQL="CU";PredictPointsP=paste0(labelInput,"\\Predict\\NFSAdult_",date_1,".csv")}
if (Species=="SSLAdult") {SpeciesSQL="SSL";PredictPointsP=paste0(labelInput,"\\Predict\\",date_1,"_SSLAdult_AgeLatLon.csv")}
if (Species=="NFSPup")   {SpeciesSQL="CU";PredictPointsP=paste0(labelInput,"\\Predict\\NFSPup_",date_1,".csv")}
if (Species=="SSLPup")   {stop("You can not Import SSL pups without Adult animals, please select  SSLAdult")}
if (Species=="WLRS")    {SpeciesSQL="WLRS";PredictPointsP=paste0(labelInput,"\\Predict\\WLRS_",date_1,".csv")}
PredictPointsPsslp=paste0(labelInput,"\\Predict\\SSLPup_",date_1,".csv")
AdditnlPointsPnfsP = paste0(labelInput,"\\Predict\\NFSPupAdd_",date_1,".kml")
WLRSadd = paste0(labelInput,"\\Predict\\WLRSadd_",date_1,".kml")
ObserverPoints= readOGR(ObserverCountP)
PredictPoints= read.csv(PredictPointsP)
ObserverPoints
PredictPoints
unique(PredictPoints$age)
unique(ObserverPoints$LAYER)
data.frame(ObserverPoints)
ObserverPoints= data.frame(readOGR(ObserverCountP))
PredictPoints= read.csv(PredictPointsP)
head(ObserverPoints)
ObserverPoints1= ObserverPoints %>%
group_by(LAYER) %>%
summarize(Count=n())
ObserverPoints1
ObserverPoints1= ObserverPoints %>%
group_by(Age=LAYER) %>%
summarize(Count=n())
ObserverPoints1
head(PredictPoints)
res=rbind(ObserverPoints1,PredictPoints1)
ObserverPoints1= ObserverPoints %>%
group_by(Age=LAYER) %>%
summarize(Count=n())
PredictPoints1=PredictPoints %>%
group_by  (Age=age) %>%
summarize(Count=n())
res=rbind(ObserverPoints1,PredictPoints1)
res
ObserverPoints1= ObserverPoints %>%
group_by(Age=LAYER) %>%
summarize(Count=n(),Type="Observer Manual Count")
PredictPoints1=PredictPoints %>%
group_by  (Age=age) %>%
summarize(Count=n(),Type="Predict")
PredictPoints1
res=rbind(ObserverPoints1,PredictPoints1)
res
res1=	res %>% spread (Age,Count,Type)
res %>% spread (Age,Count)
res
ObserverPoints= data.frame(readOGR(ObserverCountP))
PredictPoints= read.csv(PredictPointsP)
ObserverPoints1= ObserverPoints %>%
group_by(Age=LAYER) %>%
summarize(Count=n(),Type="Observer Manual Count")
PredictPoints1=PredictPoints %>%
group_by  (Age=age) %>%
summarize(Count=n(),Type="Predict")
res=rbind(ObserverPoints1,PredictPoints1)
res$Age[res$Age=="An"]="AN"
res1=	res %>% spread (Age,Count)
res1
ObserverPoints= data.frame(readOGR(ObserverCountP))
PredictPoints= read.csv(PredictPointsP)
ObserverPoints1= ObserverPoints %>%
group_by(Age=LAYER) %>%
summarize(Count=n(),Type="Observer Model Count")
PredictPoints1=PredictPoints %>%
group_by  (Age=age) %>%
summarize(Count=n(),Type="Predict")
res=rbind(ObserverPoints1,PredictPoints1)
res$Age[res$Age=="An"]="AN"
res1=	res %>% spread (Age,Count)
res1
res2=data.frame(Data=date_1,res1)
res2
file.exists(PthSaveExcell)
if (file.exists(PthSaveExcell)==F) {write.csv(res2,PthSaveExcell,row.names=F)}
runApp()
d
dayInProgress
SubFolds
k
runApp()
runApp()
exists("loopCheck")
runApp()
date_1
labelInput
library(dplyr)
library(rgdal)
library(tools)
library(tidyr)
labelInput
Species
if (exists("loopCheck") ==F){DirSaveExcel=choose.dir(caption = "Select folder to save Excell")}
date_1= substr(basename(labelInput),1,15)
year=substr(date_1,1,4)
PthSaveExcell<<-paste0(DirSaveExcel,"\\",Species,"_",site,"_",year,".csv")
ObserverCountDir=paste0(labelInput,"\\Observer_count")
ObserverCountP=list.files(ObserverCountDir,full.names=T,pattern = "kml|shp")
if (Species=="NFSAdult") {SpeciesSQL="CU";PredictPointsP=paste0(labelInput,"\\Predict\\NFSAdult_",date_1,".csv")}
if (Species=="SSLAdult") {SpeciesSQL="SSL";PredictPointsP=paste0(labelInput,"\\Predict\\",date_1,"_SSLAdult_AgeLatLon.csv")}
if (Species=="NFSPup")   {SpeciesSQL="CU";PredictPointsP=paste0(labelInput,"\\Predict\\NFSPup_",date_1,".csv")}
if (Species=="SSLPup")   {stop("You can not Import SSL pups without Adult animals, please select  SSLAdult")}
if (Species=="WLRS")    {SpeciesSQL="WLRS";PredictPointsP=paste0(labelInput,"\\Predict\\WLRS_",date_1,".csv")}
PredictPointsPsslp=paste0(labelInput,"\\Predict\\SSLPup_",date_1,".csv")
AdditnlPointsPnfsP = paste0(labelInput,"\\Predict\\NFSPupAdd_",date_1,".kml")
WLRSadd = paste0(labelInput,"\\Predict\\WLRSadd_",date_1,".kml")
ObserverPoints= data.frame(readOGR(ObserverCountP))
PredictPoints= read.csv(PredictPointsP)
ObserverPoints1= ObserverPoints %>%
group_by(Age=LAYER) %>%
summarize(Count=n(),Type="Observer Model Count")
PredictPoints1=PredictPoints %>%
group_by  (Age=age) %>%
summarize(Count=n(),Type="Predict")
ObserverPoints1
labelInput
runApp()
runApp()
loopCheck
runApp()
res2
site
